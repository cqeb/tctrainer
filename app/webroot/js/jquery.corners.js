(function(a){a.fn.drawCorners=function(b,c,d,e,f,g){if(a.browser.msie){var h=g;var i=d}else{var h=d;var i=g}var j=excanvas(document.getElementById(b+"_UpLeftCorner"));if(j.getContext){var k=j.getContext("2d");k.fillStyle=e;k.fillRect(0,0,c,c);k.fillStyle=h;k.arc(c,c,c,Math.PI/2,0,0);k.fill();k.fillStyle=i;k.arc(c,c,c-f,0,Math.PI/2,1);k.fill()}var l=excanvas(document.getElementById(b+"_UpRightCorner"));if(l.getContext){var k=l.getContext("2d");k.fillStyle=e;k.fillRect(0,0,c,c);k.fillStyle=h;k.arc(0,c,c,Math.PI,Math.PI/2,0);k.fill();k.fillStyle=i;k.arc(0,c,c-f,Math.PI/2,Math.PI,1);k.fill()}var m=excanvas(document.getElementById(b+"_DownLeftCorner"));if(m.getContext){var k=m.getContext("2d");k.fillStyle=e;k.fillRect(0,0,c,c);k.fillStyle=h;k.arc(c,0,c,0,3*Math.PI/2,0);k.fill();k.fillStyle=i;k.arc(c,0,c-f,3*Math.PI/2,0,1);k.fill()}var n=excanvas(document.getElementById(b+"_DownRightCorner"));if(n.getContext){var k=n.getContext("2d");k.fillStyle=e;k.fillRect(0,0,c,c);k.fillStyle=h;k.arc(0,0,c,3*Math.PI/2,Math.PI,0);k.fill();k.fillStyle=i;k.arc(0,0,c-f,Math.PI,3*Math.PI/2,1);k.fill()}};a.fn.corners=function(b){var b=a.extend({radio:10,outColor:"#FFF",inColor:"#CDCDCD",borderSize:0,borderColor:"#000000"},b?b:{});return this.each(function(){if(b.borderSize>b.radio){b.radio=b.borderSize}if(a(this).css("backgroundColor")!="transparent"){b.inColor=a(this).css("backgroundColor")}if(b.borderSize==0){b.borderColor=a(this).css("border-left-color")||a(this).css("border-top-color")||a(this).css("border-bottom-color")||a(this).css("border-right-color");if(a(this).css("borderWidth")!="medium"||a(this).css("borderWidth")!=""){b.borderSize=(a(this).outerWidth()-a(this).innerWidth())/2||(a(this).outerHeight()-a(this).innerHeight())/2}}var c=a(this).attr("id");var d=a(this).html();a(this).css({position:"relative",backgroundColor:b.inColor,borderStyle:"solid",borderWidth:b.borderSize+"px",borderColor:b.borderColor}).html("");a(this).append("<canvas id='"+c+"_UpLeftCorner' width="+b.radio+" height="+b.radio+"></canvas>");a(this).append("<canvas id='"+c+"_UpRightCorner' width="+b.radio+" height="+b.radio+"></canvas>");a(this).append("<canvas id='"+c+"_DownLeftCorner' width="+b.radio+" height="+b.radio+"></canvas>");a(this).append("<canvas id='"+c+"_DownRightCorner' width="+b.radio+" height="+b.radio+"></canvas>");a(this).append("<div id='"+c+"_main'>"+d+"</div>");a("#"+c+"_main").css({position:"relative",zIndex:1});a("#"+c+"_UpLeftCorner, #"+c+"_UpRightCorner, #"+c+"_DownLeftCorner, #"+c+"_DownRightCorner").css({position:"absolute",zIndex:0,width:b.radio+"px",height:b.radio+"px",backgroundColor:b.inColor});if(b.borderSize!=0){var e=-b.borderSize;a("#"+c+"_UpLeftCorner").css({top:e+"px",left:e+"px"});a("#"+c+"_UpRightCorner").css({top:e+"px",right:e+"px"});a("#"+c+"_DownLeftCorner").css({bottom:e+"px",left:e+"px"});a("#"+c+"_DownRightCorner").css({bottom:e+"px",right:e+"px"})}else{a("#"+c+"_UpLeftCorner").css({top:"0px",left:"0px"});a("#"+c+"_UpRightCorner").css({top:"0px",right:"0px"});a("#"+c+"_DownLeftCorner").css({bottom:"0px",left:"0px"});a("#"+c+"_DownRightCorner").css({bottom:"0px",right:"0px"});b.borderColor=b.inColor}a(this).drawCorners(c,b.radio,b.inColor,b.outColor,b.borderSize,b.borderColor)})}})(jQuery)